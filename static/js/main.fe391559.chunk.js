(this["webpackJsonpreact-video-playerlist"]=this["webpackJsonpreact-video-playerlist"]||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),c=a.n(r),i=(a(92),a(16)),o=a(61),u=a(22),s=a.n(u),d=a(168),m=a(161),f=a(162),v=a(163),p=a(164),E=a(165),y=a(78),b=a.n(y),g=a(77),h=a.n(g),N=a(45),O=a.n(N);var j=a(166),S=a(159),k=a(160),V=a(66),C=a.n(V);var w=function(e){var t=e.uniqueKey,a=e.name,r=e.value,c=e.updateValueCallback,o=Object(n.useState)(!1),u=Object(i.a)(o,2),s=u[0],d=u[1],m="".concat(a,"-input"),f=function(e){d((function(){return!1})),c(e)};Object(n.useEffect)((function(){s&&document.getElementById(m).focus()}),[s]);var v=function(e){var t=function(e){var t=document.createElement("div");t.innerText=e,t.style.width="auto",t.style.visibility="hidden",t.style.display="inline-block",t.style.position="fixed",t.style.overflow="auto",document.body.append(t);var a=t.clientWidth;return t.remove(),a}(e)+60;return t>1280?1280:t}(r);return l.a.createElement("div",{style:{width:"".concat(v,"px")}},l.a.createElement(j.a,{key:t,name:a,defaultValue:r,title:r,onBlur:function(e){f(e.target.value)},onClick:function(e){d((function(){return!0}))},onKeyPress:function(e){13===e.charCode&&f(e.target.value)},disabled:!s,fullWidth:!0,InputProps:{startAdornment:l.a.createElement(S.a,{position:"start"},l.a.createElement(k.a,null,l.a.createElement(C.a,null))),id:m}}))},x=a(67),P=a(70),z=a.n(P),I=a(44),R=a.n(I),A=a(69),B=a.n(A),U=a(71),L=a.n(U),J=l.a.memo(l.a.forwardRef((function(e,t){var a=e.currentVideoUrl;return l.a.createElement(x.a,{ref:t,options:{controls:["play","progress","current-time","duration","mute","volume","settings","download","fullscreen"]},source:{type:"video",sources:[{src:null!==a&&void 0!==a?a:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720}]}})})));function K(e){var t=e.currentVideoUrl,a=e.previousVideoCallback,r=e.nextVideoCallback,c=Object(n.useRef)(),o=Object(n.useState)(!1),u=Object(i.a)(o,2),s=u[0],d=u[1],m=Object(n.useState)(!1),f=Object(i.a)(m,2),v=f[0],p=f[1];Object(n.useEffect)((function(){var e;(null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.plyr)&&(c.current.plyr.loop=s)}),[s]);var E=function(){var e;(null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.plyr)&&c.current.plyr.play()};return Object(n.useEffect)((function(){var e,t=null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.plyr;if(t)return v?(t.on("ended",r),t.on("ready",E)):(t.off("ready",E),t.off("ended",r)),function(){t.off("ready",E),t.off("ended",r)}}),[v]),l.a.createElement("div",{className:"video-panel"},l.a.createElement("div",null,l.a.createElement("div",{className:t?"video-container":"video-container hidden"},l.a.createElement("div",{className:"additional-controls"},l.a.createElement("div",{title:"Previous Video"},l.a.createElement(B.a,{onClick:function(e){a()}})),l.a.createElement("div",{className:s?"toggled":"",title:"Loop"},l.a.createElement(z.a,{onClick:function(e){d((function(){return!s})),p((function(){return!1}))}})),l.a.createElement("div",{className:v?"toggled":"",title:"Autoplay Next"},l.a.createElement(R.a,{onClick:function(e){p((function(){return!v})),d((function(){return!1}))}})),l.a.createElement("div",{title:"Next Video"},l.a.createElement(L.a,{onClick:function(e){r()}}))),l.a.createElement(J,{currentVideoUrl:t,ref:c})),!t&&l.a.createElement("div",{className:"text-muted"},l.a.createElement("p",null,"1. Click on the",l.a.createElement("span",{className:"c-icon"},l.a.createElement(O.a,null)),"Playlist icon"),l.a.createElement("p",null,"2. Add URLs separated by comma"),l.a.createElement("p",null,"3. Save playlist and watch video"))))}var W=a(72),q=a.n(W),D=a(73),G=a.n(D),$=a(74),F=a.n($),M=a(75),T=a.n(M);function Y(e){var t=e.toggle,a=e.setSidebar,n=e.showSideBar;return l.a.createElement("div",{className:"toolbar"},l.a.createElement("span",{href:"#",onClick:function(){return a(!n)}},n?l.a.createElement(q.a,{fontSize:"small"}):l.a.createElement(G.a,{fontSize:"small"})),l.a.createElement("div",null,l.a.createElement("span",{"data-tip":"Change mode",className:"round-button-inverse",onClick:t},l.a.createElement(s.a,{effect:"solid",place:"right"}),l.a.createElement(F.a,{fontSize:"small"})),l.a.createElement("a",{target:"_BLANK",rel:"noopener noreferrer",href:"https://github.com/algebra123230/React-Video-Playlist","data-tip":"View On Github",className:"round-button-inverse"},l.a.createElement(s.a,{effect:"solid",place:"right"}),l.a.createElement(T.a,{fontSize:"small"})," Github")))}var _=a(76),H=a.n(_);function Q(e){var t=e.videos,a=e.currentVideo,n=e.setVideoByIndex,r=e.setVideos;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",{className:"playlist-header"},"Videos in Playlist ",0!==t.length?l.a.createElement("div",{className:"playlist-count"},t.length):""),l.a.createElement("ul",{className:"playlist-content"},0===t.length?l.a.createElement("span",{className:"text-muted"},"No videos in the Playlist"):"",t.map((function(e,c){var i=e.name?e.name:"Video ".concat(c+1);return l.a.createElement("li",{key:e.url,className:a===e?"active":"",title:i},l.a.createElement("div",{onClick:function(){return n(c)},href:"#",className:"d-flex pl-5 nav-video"},l.a.createElement("div",{className:"select-video"},l.a.createElement(R.a,{fontSize:"small"})),l.a.createElement("div",{className:"video-title"},i)),l.a.createElement("span",{className:"delete-video","data-tip":"Remove Video"},l.a.createElement(s.a,{effect:"solid",place:"right"}),l.a.createElement(H.a,{onClick:function(e){!function(e,t,a){var n=t.filter((function(t,a){return a!==e}));console.log(n),localStorage.setItem("videos",JSON.stringify(n)),a((function(){return n}))}(c,t,r)}})))}))))}var X=function(e){return e.map((function(e){return e.url+" "+e.name})).join("\n")};function Z(e){var t=e.addVideos,a=e.showImporter,r=Object(n.useState)(!1),c=Object(i.a)(r,2),o=c[0],u=c[1];return l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(function(e){var t=[];return e.forEach((function(e){var a,n,l=e.trim(),r=l.indexOf(" ");r>=0?(a=l.slice(0,r),n=l.slice(r+1)):a=l,/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(a)&&t.push({url:a,name:n})})),t}(e.target.playlisturls.value.split("\n")))?(a(),u()):u("URL List contains invalid URL")},className:"playlist-form"},o&&l.a.createElement("div",{className:"alert-error"},o),l.a.createElement("textarea",{name:"playlisturls",required:!0,placeholder:"Add videos to playlist (separated by newline). You can add custom name to videos (separated by space) Eg: VideoURL NAME."}),l.a.createElement("button",{className:"right button-primary"},"Add to Playlist"))}var ee=function(){var e=Object(o.a)(!1),t=Object(n.useState)((function(){return function(){console.log("initializing video data");var e=localStorage.getItem("videos");console.log(e);var t=JSON.parse(e);return t||[]}()})),a=Object(i.a)(t,2),r=a[0],c=a[1],u=Object(n.useState)(r[0]),y=Object(i.a)(u,2),g=y[0],N=y[1],j=Object(n.useState)(r.length>0?0:void 0),S=Object(i.a)(j,2),k=S[0],V=S[1],C=Object(n.useState)(!1),x=Object(i.a)(C,2),P=x[0],z=x[1],I=Object(n.useState)(!0),R=Object(i.a)(I,2),A=R[0],B=R[1],U=Object(n.useState)(!1),L=Object(i.a)(U,2),J=L[0],W=L[1],q=Object(n.useState)(""),D=Object(i.a)(q,2),G=(D[0],D[1],function(e){localStorage.setItem("videos",JSON.stringify(e)),c((function(){return e}))}),$=function(){z((function(e){return!e}))};Object(n.useEffect)((function(){N((function(){return void 0!==k?r[k]:void 0}))}),[k,r]),Object(n.useEffect)((function(){var e;document.title=(null!==(e=null===g||void 0===g?void 0:g.name)&&void 0!==e?e:"No Video")+" - React Video Player"}),[g]);var F=function(){W(!1)};return l.a.createElement("div",{className:"App d-flex"},A&&l.a.createElement("div",{className:"sidebar"},l.a.createElement("div",{className:"sidebar-controls right"},l.a.createElement("div",{"data-tip":"Add to Playlist",className:"round-button",onClick:function(){return $()}},l.a.createElement(s.a,{effect:"solid",place:"right"}),l.a.createElement(O.a,null)),l.a.createElement("div",{"data-tip":"Download Playlist",className:"round-button",onClick:function(){return function(){var e=new Blob([X(r)],{type:"text/plain;charset=utf-8"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="playlist.txt",t.click()}()}},l.a.createElement(s.a,{effect:"solid",place:"right"}),l.a.createElement(h.a,null)),l.a.createElement("div",{"data-tip":"Clear Playlist",className:"round-button",onClick:function(){W(!0)}},l.a.createElement(s.a,{effect:"solid",place:"right"}),l.a.createElement(b.a,{fontSize:"small"})),l.a.createElement(d.a,{open:J,onClose:F},l.a.createElement(m.a,null,"Clear Playlist?"),l.a.createElement(f.a,null,l.a.createElement(v.a,null,"Are you sure you want to clear your playlist?")),l.a.createElement(p.a,null,l.a.createElement(E.a,{onClick:F,color:"default"},"Cancel"),l.a.createElement(E.a,{onClick:function(){c([]),localStorage.removeItem("videos"),F()},color:"primary"},"Clear Playlist")))),P&&l.a.createElement(Z,{addVideos:function(e){return t=e,G(r.concat(t)),!0;var t},showImporter:function(){return $()}}),l.a.createElement("div",{className:"sidebar-playlist"},l.a.createElement(Q,{videos:r,currentVideo:g,setVideoByIndex:function(e){console.log("setting video to index "+e),V((function(t){return e}))},setVideos:c}))),l.a.createElement("div",{className:"video-panel-section"},l.a.createElement(Y,{toggle:e.toggle,setSidebar:B,showSideBar:A}),l.a.createElement("div",{className:"grow d-flex center"},l.a.createElement("div",{className:"w-100"},l.a.createElement(K,{currentVideoUrl:null===g||void 0===g?void 0:g.url,previousVideoCallback:function(){V((function(e){if(void 0!==e){var t=e;return--t<0&&(t=r.length-1),t}}))},nextVideoCallback:function(){V((function(e){if(void 0!==e){var t=e;return++t>=r.length&&(t=0),t}}))}}),g&&l.a.createElement("div",{className:"flex center video-name"},l.a.createElement(w,{uniqueKey:g.url,name:"video-name-textfield",value:g.name?g.name:"Video ".concat(k+1),updateValueCallback:function(e){return function(e){var t={name:e,url:g.url},a=r;a[k]=t,G(a),N((function(e){return r[k]}))}(e)}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,a){e.exports=a(131)},92:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.fe391559.chunk.js.map