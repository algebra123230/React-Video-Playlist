(this["webpackJsonpreact-video-playerlist"]=this["webpackJsonpreact-video-playerlist"]||[]).push([[0],{44:function(e,t,a){e.exports=a(82)},49:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=(a(49),a(8)),i=a(29),s=a(10),d=a.n(s),u=a(18),m=a.n(u),f=a(42),v=a.n(f);var p=a(31),E=a(35),g=a.n(E),b=a(17),h=a.n(b),y=a(33),N=a.n(y),S=a(36),O=a.n(S),V=r.a.memo(r.a.forwardRef((function(e,t){var a=e.currentVideo;return r.a.createElement(p.a,{ref:t,options:{controls:["play","progress","current-time","duration","mute","volume","settings","download","fullscreen"]},source:{type:"video",sources:[{src:a.url,type:"video/mp4",size:720}]}})})));function j(e){var t=e.currentVideo,a=e.previousVideoCallback,l=e.nextVideoCallback,c=Object(n.useRef)(),i=Object(n.useState)(!1),s=Object(o.a)(i,2),d=s[0],u=s[1],f=Object(n.useState)(!1),v=Object(o.a)(f,2),p=v[0],E=v[1];Object(n.useEffect)((function(){console.log("plyrRef.current = "+c.current),void 0!==c.current&&void 0!==c.current.plyr&&(c.current.plyr.loop=d)}),[d]);var b=function(){void 0!==c.current&&void 0!==c.current.plyr&&c.current.plyr.play()};return Object(n.useEffect)((function(){if(void 0!==c.current&&void 0!==c.current.plyr){var e=c.current.plyr;return p?(e.on("ended",l),e.on("ready",b)):(e.off("ready",b),e.off("ended",l)),function(){e.off("ready",b),e.off("ended",l)}}}),[p]),r.a.createElement("div",{className:"video-panel"},t?r.a.createElement("div",{className:"video-container"},r.a.createElement("div",{className:"additional-controls"},r.a.createElement("div",{title:"Previous Video"},r.a.createElement(N.a,{onClick:function(e){a()}})),r.a.createElement("div",{className:d?"toggled":"",title:"Loop"},r.a.createElement(g.a,{onClick:function(e){u((function(){return!d})),E((function(){return!1}))}})),r.a.createElement("div",{className:p?"toggled":"",title:"Autoplay Next"},r.a.createElement(h.a,{onClick:function(e){E((function(){return!p})),u((function(){return!1}))}})),r.a.createElement("div",{title:"Next Video"},r.a.createElement(O.a,{onClick:function(e){l()}}))),r.a.createElement(V,{currentVideo:t,ref:c}),r.a.createElement("div",{className:"flex center label-name"},t.name)):r.a.createElement("div",{className:"text-muted"},r.a.createElement("p",null,"1. Click on the",r.a.createElement("span",{className:"c-icon"},r.a.createElement(m.a,null)),"Playlist icon"),r.a.createElement("p",null,"2. Add URLs separated by comma"),r.a.createElement("p",null,"3. Save playlist and watch video")))}var k=a(37),x=a.n(k),w=a(38),C=a.n(w),z=a(39),I=a.n(z),R=a(40),A=a.n(R);function P(e){var t=e.toggle,a=e.setSidebar,n=e.showSideBar;return r.a.createElement("div",{className:"toolbar"},r.a.createElement("span",{href:"#",onClick:function(){return a(!n)}},n?r.a.createElement(x.a,{fontSize:"small"}):r.a.createElement(C.a,{fontSize:"small"})),r.a.createElement("div",null,r.a.createElement("span",{"data-tip":"Change mode",className:"round-button-inverse",onClick:t},r.a.createElement(d.a,{effect:"solid",place:"right"}),r.a.createElement(I.a,{fontSize:"small"})),r.a.createElement("a",{target:"_BLANK",rel:"noopener noreferrer",href:"https://github.com/algebra123230/React-Video-Playlist","data-tip":"View On Github",className:"round-button-inverse"},r.a.createElement(d.a,{effect:"solid",place:"right"}),r.a.createElement(A.a,{fontSize:"small"})," Github")))}var B=a(41),L=a.n(B);function J(e){var t=e.videos,a=e.currentVideo,n=e.setVideoByIndex,l=e.setVideos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Videos in Playlist ",0!==t.length?r.a.createElement("div",{className:"playlist-count"},t.length):""),r.a.createElement("ul",null,0===t.length?r.a.createElement("span",{className:"text-muted"},"No video's in the Playlist"):"",t.map((function(e,c){var o=e.name?e.name:"Video ".concat(c+1);return r.a.createElement("li",{key:e.url,className:a===e?"active":"",title:o},r.a.createElement("div",{onClick:function(){return n(c)},href:"#",className:"d-flex pl-5 nav-video"},r.a.createElement("div",{className:"select-video"},r.a.createElement(h.a,{fontSize:"small"})),r.a.createElement("div",{className:"video-title"},o)),r.a.createElement("span",{className:"delete-video","data-tip":"Remove Video"},r.a.createElement(d.a,{effect:"solid",place:"right"}),r.a.createElement(L.a,{onClick:function(e){!function(e,t,a){var n=t.filter((function(t,a){return a!==e}));console.log(n),localStorage.setItem("videos",JSON.stringify(n)),a(n)}(c,t,l)}})))}))))}var U=function(){var e=Object(i.a)(!1),t=Object(n.useState)((function(){return function(){console.log("initializing video data");var e=localStorage.getItem("videos");console.log(e);var t=JSON.parse(e);return t||[]}()})),a=Object(o.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(l[0]),u=Object(o.a)(s,2),f=u[0],p=u[1],E=Object(n.useState)(l.length>0?0:void 0),g=Object(o.a)(E,2),b=g[0],h=g[1],y=Object(n.useState)(!1),N=Object(o.a)(y,2),S=N[0],O=N[1],V=Object(n.useState)(!0),k=Object(o.a)(V,2),x=k[0],w=k[1],C=Object(n.useState)(!1),z=Object(o.a)(C,2),I=z[0],R=z[1],A=function(){O(!S)};return Object(n.useEffect)((function(){p((function(){return l[b]}))}),[b,l]),r.a.createElement("div",{className:"App d-flex"},x&&r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"right"},r.a.createElement("div",{"data-tip":"Add to Playlist",className:"round-button",onClick:function(){return A()}},r.a.createElement(d.a,{effect:"solid",place:"right"}),r.a.createElement(m.a,null)),r.a.createElement("div",{"data-tip":"Clear Playlist",className:"round-button",onClick:function(){c([]),localStorage.removeItem("videos")}},r.a.createElement(d.a,{effect:"solid",place:"right"}),r.a.createElement(v.a,{fontSize:"small"}))),S&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),!function(e,t,a){return function(e){var n=t.concat(e);localStorage.setItem("videos",JSON.stringify(n)),a(n)}(function(e){var t=[];return e.forEach((function(e){var a,n,r=e.trim(),l=r.indexOf(" ");l>=0?(a=r.slice(0,l),n=r.slice(l+1)):a=r,/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(a)&&t.push({url:a,name:n})})),t}(e.split("\n"))),!0}(e.target.playlisturls.value,l,c)?R("URL List contains invalid URL"):(A(),R())},className:"playlist-form"},I&&r.a.createElement("div",{className:"alert-error"},I),r.a.createElement("textarea",{name:"playlisturls",required:!0,placeholder:"Add videos to playlist (separated by newline). You can add custom name to videos (separated by space) Eg: VideoURL NAME."}),r.a.createElement("button",{className:"right button-primary"},"Add to Playlist")),r.a.createElement(J,{videos:l,currentVideo:f,setVideoByIndex:function(e){console.log("setting video to index "+e),h((function(t){return e})),console.log("currentVideoIndex = "+b)},setVideos:c})),r.a.createElement("div",{className:"video-panel-section"},r.a.createElement(P,{toggle:e.toggle,setSidebar:w,showSideBar:x}),r.a.createElement("div",{className:"grow d-flex center"},r.a.createElement("div",{className:"w-100"},r.a.createElement(j,{currentVideo:f,previousVideoCallback:function(){h((function(e){if(void 0!==e){var t=e;return--t<0&&(t=l.length-1),t}}))},nextVideoCallback:function(){h((function(e){if(void 0!==e){var t=e;return t++,console.log("curIndex = "+e+", newIndex = "+t+", videos.length = "+l.length),t>=l.length&&(t=0),t}}))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.dde90dac.chunk.js.map