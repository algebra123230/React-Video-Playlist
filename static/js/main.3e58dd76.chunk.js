(this["webpackJsonpreact-video-playerlist"]=this["webpackJsonpreact-video-playerlist"]||[]).push([[0],{45:function(e,t,a){e.exports=a(83)},50:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),i=a.n(r),o=(a(50),a(8)),c=a(29),s=a(9),d=a.n(s),u=a(18),m=a.n(u),f=a(43),v=a.n(f),p=a(42),E=a.n(p);var b=a(31),g=a(35),h=a.n(g),y=a(17),N=a.n(y),O=a(33),S=a.n(O),j=a(36),V=a.n(j),k=l.a.memo(l.a.forwardRef((function(e,t){var a,n=e.currentVideo;return l.a.createElement(b.a,{ref:t,options:{controls:["play","progress","current-time","duration","mute","volume","settings","download","fullscreen"]},source:{type:"video",sources:[{src:null!==(a=null===n||void 0===n?void 0:n.url)&&void 0!==a?a:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720}]}})})));function w(e){var t=e.currentVideo,a=e.previousVideoCallback,r=e.nextVideoCallback,i=Object(n.useRef)(),c=Object(n.useState)(!1),s=Object(o.a)(c,2),d=s[0],u=s[1],f=Object(n.useState)(!1),v=Object(o.a)(f,2),p=v[0],E=v[1];Object(n.useEffect)((function(){var e;(null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.plyr)&&(i.current.plyr.loop=d)}),[d]);var b=function(){var e;(null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.plyr)&&i.current.plyr.play()};return Object(n.useEffect)((function(){var e,t=null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.plyr;if(t)return p?(t.on("ended",r),t.on("ready",b)):(t.off("ready",b),t.off("ended",r)),function(){t.off("ready",b),t.off("ended",r)}}),[p]),Object(n.useEffect)((function(){var e;document.title=(null!==(e=null===t||void 0===t?void 0:t.name)&&void 0!==e?e:"No Video")+" - React Video Player"}),[t]),l.a.createElement("div",{className:"video-panel"},l.a.createElement("div",null,l.a.createElement("div",{className:t?"video-container":"video-container hidden"},l.a.createElement("div",{className:"additional-controls"},l.a.createElement("div",{title:"Previous Video"},l.a.createElement(S.a,{onClick:function(e){a()}})),l.a.createElement("div",{className:d?"toggled":"",title:"Loop"},l.a.createElement(h.a,{onClick:function(e){u((function(){return!d})),E((function(){return!1}))}})),l.a.createElement("div",{className:p?"toggled":"",title:"Autoplay Next"},l.a.createElement(N.a,{onClick:function(e){E((function(){return!p})),u((function(){return!1}))}})),l.a.createElement("div",{title:"Next Video"},l.a.createElement(V.a,{onClick:function(e){r()}}))),l.a.createElement(k,{currentVideo:t,ref:i}),t&&l.a.createElement("div",{className:"flex center label-name"},t.name)),!t&&l.a.createElement("div",{className:"text-muted"},l.a.createElement("p",null,"1. Click on the",l.a.createElement("span",{className:"c-icon"},l.a.createElement(m.a,null)),"Playlist icon"),l.a.createElement("p",null,"2. Add URLs separated by comma"),l.a.createElement("p",null,"3. Save playlist and watch video"))))}var x=a(37),C=a.n(x),z=a(38),R=a.n(z),P=a(39),I=a.n(P),L=a(40),A=a.n(L);function B(e){var t=e.toggle,a=e.setSidebar,n=e.showSideBar;return l.a.createElement("div",{className:"toolbar"},l.a.createElement("span",{href:"#",onClick:function(){return a(!n)}},n?l.a.createElement(C.a,{fontSize:"small"}):l.a.createElement(R.a,{fontSize:"small"})),l.a.createElement("div",null,l.a.createElement("span",{"data-tip":"Change mode",className:"round-button-inverse",onClick:t},l.a.createElement(d.a,{effect:"solid",place:"right"}),l.a.createElement(I.a,{fontSize:"small"})),l.a.createElement("a",{target:"_BLANK",rel:"noopener noreferrer",href:"https://github.com/algebra123230/React-Video-Playlist","data-tip":"View On Github",className:"round-button-inverse"},l.a.createElement(d.a,{effect:"solid",place:"right"}),l.a.createElement(A.a,{fontSize:"small"})," Github")))}var U=a(41),J=a.n(U);function D(e){var t=e.videos,a=e.currentVideo,n=e.setVideoByIndex,r=e.setVideos;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Videos in Playlist ",0!==t.length?l.a.createElement("div",{className:"playlist-count"},t.length):""),l.a.createElement("ul",null,0===t.length?l.a.createElement("span",{className:"text-muted"},"No videos in the Playlist"):"",t.map((function(e,i){var o=e.name?e.name:"Video ".concat(i+1);return l.a.createElement("li",{key:e.url,className:a===e?"active":"",title:o},l.a.createElement("div",{onClick:function(){return n(i)},href:"#",className:"d-flex pl-5 nav-video"},l.a.createElement("div",{className:"select-video"},l.a.createElement(N.a,{fontSize:"small"})),l.a.createElement("div",{className:"video-title"},o)),l.a.createElement("span",{className:"delete-video","data-tip":"Remove Video"},l.a.createElement(d.a,{effect:"solid",place:"right"}),l.a.createElement(J.a,{onClick:function(e){!function(e,t,a){var n=t.filter((function(t,a){return a!==e}));console.log(n),localStorage.setItem("videos",JSON.stringify(n)),a((function(){return n}))}(i,t,r)}})))}))))}var G=function(e){return e.map((function(e){return e.url+" "+e.name})).join("\n")};function W(e){var t=e.addVideos,a=e.showImporter,r=Object(n.useState)(!1),i=Object(o.a)(r,2),c=i[0],s=i[1];return l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(function(e){var t=[];return e.forEach((function(e){var a,n,l=e.trim(),r=l.indexOf(" ");r>=0?(a=l.slice(0,r),n=l.slice(r+1)):a=l,/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(a)&&t.push({url:a,name:n})})),t}(e.target.playlisturls.value.split("\n")))?(a(),s()):s("URL List contains invalid URL")},className:"playlist-form"},c&&l.a.createElement("div",{className:"alert-error"},c),l.a.createElement("textarea",{name:"playlisturls",required:!0,placeholder:"Add videos to playlist (separated by newline). You can add custom name to videos (separated by space) Eg: VideoURL NAME."}),l.a.createElement("button",{className:"right button-primary"},"Add to Playlist"))}var $=function(){var e=Object(c.a)(!1),t=Object(n.useState)((function(){return function(){console.log("initializing video data");var e=localStorage.getItem("videos");console.log(e);var t=JSON.parse(e);return t||[]}()})),a=Object(o.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(r[0]),u=Object(o.a)(s,2),f=u[0],p=u[1],b=Object(n.useState)(r.length>0?0:void 0),g=Object(o.a)(b,2),h=g[0],y=g[1],N=Object(n.useState)(!1),O=Object(o.a)(N,2),S=O[0],j=O[1],V=Object(n.useState)(!0),k=Object(o.a)(V,2),x=k[0],C=k[1],z=Object(n.useState)(""),R=Object(o.a)(z,2),P=(R[0],R[1],function(){j((function(e){return!e}))});return Object(n.useEffect)((function(){p((function(){return void 0!==h?r[h]:void 0}))}),[h,r]),l.a.createElement("div",{className:"App d-flex"},x&&l.a.createElement("div",{className:"sidebar"},l.a.createElement("div",{className:"right"},l.a.createElement("div",{"data-tip":"Add to Playlist",className:"round-button",onClick:function(){return P()}},l.a.createElement(d.a,{effect:"solid",place:"right"}),l.a.createElement(m.a,null)),l.a.createElement("div",{"data-tip":"Download Playlist",className:"round-button",onClick:function(){return function(){var e=new Blob([G(r)],{type:"text/plain;charset=utf-8"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="playlist.txt",t.click()}()}},l.a.createElement(d.a,{effect:"solid",place:"right"}),l.a.createElement(E.a,null)),l.a.createElement("div",{"data-tip":"Clear Playlist",className:"round-button",onClick:function(){i([]),localStorage.removeItem("videos")}},l.a.createElement(d.a,{effect:"solid",place:"right"}),l.a.createElement(v.a,{fontSize:"small"}))),S&&l.a.createElement(W,{addVideos:function(e){return function(e){var t=r.concat(e);return localStorage.setItem("videos",JSON.stringify(t)),i((function(){return t})),!0}(e)},showImporter:function(){return P()}}),l.a.createElement(D,{videos:r,currentVideo:f,setVideoByIndex:function(e){console.log("setting video to index "+e),y((function(t){return e}))},setVideos:i})),l.a.createElement("div",{className:"video-panel-section"},l.a.createElement(B,{toggle:e.toggle,setSidebar:C,showSideBar:x}),l.a.createElement("div",{className:"grow d-flex center"},l.a.createElement("div",{className:"w-100"},l.a.createElement(w,{currentVideo:f,previousVideoCallback:function(){y((function(e){if(void 0!==e){var t=e;return--t<0&&(t=r.length-1),t}}))},nextVideoCallback:function(){y((function(e){if(void 0!==e){var t=e;return++t>=r.length&&(t=0),t}}))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.3e58dd76.chunk.js.map